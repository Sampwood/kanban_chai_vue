webpackJsonp([2],{"+Qew":function(t,e,a){"use strict";var n=a("//Fk"),s=a.n(n),i=a("lbHh"),r=a.n(i),o=a("1W6s");e.a={apiGetSections:function(){return new s.a(function(t,e){a.i(o.a)(function(a){var n=Number(r.a.get("userId")),s=a.transaction(["section"]).objectStore("section").index("userId").getAll(n);s.onerror=function(t){console.log("获取sections信息失败",t),e({message:"获取sections信息失败"})},s.onsuccess=function(e){console.log("获取列表信息成功"),t(e.target.result)}},e)})},apiCreateSection:function(t){return new s.a(function(e,n){a.i(o.a)(function(a){var s=Number(r.a.get("userId")),i=a.transaction(["section"],"readwrite"),o=i.objectStore("section");o.add({title:t.title,cards:[],userId:s}).onsuccess=function(t){o.get(t.target.result).onsuccess=function(t){console.log("新增section成功"),e({section:t.target.result})}},i.onerror=function(t){console.log("新增section失败",t),n({message:"新增section失败"})}},n)})}}},"+VX4":function(t,e,a){"use strict";a.d(e,"e",function(){return n}),a.d(e,"a",function(){return s}),a.d(e,"c",function(){return i}),a.d(e,"d",function(){return r}),a.d(e,"b",function(){return o});var n="card",s="close",i=["light","blue","indigo","purple","pink","red","orange","yellow","green","teal","cyan","gray"],r=["No colour tag","blue","orange","cyan","yellow","pink","purple","red","green"],o=["No priority","low","normal","high","critical"]},"+YJT":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n="USER_LOGIN",s="USER_LOGOUT"},"+hbA":function(t,e){},"+rL5":function(t,e,a){"use strict";function n(t){a("+hbA")}var s=a("AEeq"),i=a("km0r"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-7f012414",null);e.a=c.exports},"03za":function(t,e){},"08bf":function(t,e,a){"use strict";var n=a("Dd8w"),s=a.n(n),i=a("NYxO");e.a={name:"cardCreate",computed:s()({},a.i(i.d)({storeCategory:"category",storeTitle:"title",storeDescription:"description"}),{title:{get:function(){return this.storeTitle},set:function(t){this.updateCardForm({key:"title",value:t})}},category:{get:function(){return this.storeCategory},set:function(t){this.updateCardForm({key:"category",value:t})}},description:{get:function(){return this.storeDescription},set:function(t){this.updateCardForm({key:"description",value:t})}}}),methods:s()({},a.i(i.c)(["updateCardForm"]))}},"0ClO":function(t,e){},"0mKs":function(t,e,a){"use strict";function n(t){a("Ifrm")}var s=a("LA+S"),i=a("NZon"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},"1W6s":function(t,e,a){"use strict";function n(t,e,a,n){if(a=a||i.a.get("username"),r&&o===a)return t(r);var s=window.indexedDB.open(a,n);s.onerror=function(t){console.log("数据库打开报错",t),e({message:"数据库打开报错"})},s.onsuccess=function(e){r=s.result,o=a,console.log("数据库打开成功"),t(r)},s.onupgradeneeded=function(t){r=t.target.result,o=a,console.log("数据库升级成功");var e=void 0;r.objectStoreNames.contains("person")||(e=r.createObjectStore("person",{keyPath:"id",autoIncrement:!0}),e.createIndex("username","username",{unique:!0})),r.objectStoreNames.contains("section")||(e=r.createObjectStore("section",{keyPath:"key",autoIncrement:!0}),e.createIndex("userId","userId",{unique:!1}))}}e.a=n;var s=a("lbHh"),i=a.n(s),r=void 0,o=void 0},"2G+U":function(t,e,a){"use strict";function n(t){a("SWcl")}var s=a("NZrp"),i=a("DrTi"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-00b44323",null);e.a=c.exports},"3E/i":function(t,e,a){"use strict";function n(t){a("sSmN")}var s=a("q2D/"),i=a("wG+O"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-4940c840",null);e.a=c.exports},"3T8Y":function(t,e,a){"use strict";a("XhSR"),a("sGXO"),a("iQPd"),a("c8ws"),a("c3ug");e.a={name:"priority",props:{text:{required:!0},level:{type:Number,default:0}},computed:{priorityColor:function(){var t=void 0;switch(this.level){case 0:t="alert-light";break;case 1:t="alert-dark";break;case 2:t="alert-success";break;case 3:t="alert-warning";break;case 4:t="alert-danger";break;default:t="alert-light"}return t}}}},"3cqT":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"container-fluid main-panel"},[a("article",{directives:[{name:"scroll",rawName:"v-scroll"}],staticClass:"board"},[a("div",{staticClass:"row"},[t._l(t.getterSections,function(t){return a("section-chai",{key:t.key,attrs:{"section-data":t}})}),t._v(" "),a("div",{staticClass:"section-add-column text-left"},[a("div",{staticClass:"input-group add-section"},[t.show?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.showAddSectionInput}},[a("icon",{attrs:{name:"plus"}})],1):t._e(),t._v(" "),t.show?t._e():a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.sectionTitle,expression:"sectionTitle"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Add new section"},domProps:{value:t.sectionTitle},on:{blur:t.addSection,keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addSection(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.show=!0}],input:function(e){e.target.composing||(t.sectionTitle=e.target.value)}}})])])],2)]),t._v(" "),t.getterShowDetail.isShow?a("aside",{staticClass:"detail"},[a("aside-chai")],1):t._e()])},s=[],i={render:n,staticRenderFns:s};e.a=i},"4PZh":function(t,e,a){"use strict";var n=a("0mKs");e.a={name:"asideCommentsChai",components:{"autosize-textarea":n.a},data:function(){return{newComment:""}},props:{cardData:{required:!0},postItem:{type:Function,required:!0}},computed:{hasComment:function(){return this.newComment.trim().length<1}},methods:{cancel:function(){this.newComment=""},submit:function(){this.postItem(this.cardData.key,"comments",{message:this.newComment,createDate:new Date}),this.newComment=""}}}},"4W0b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-login"},[a("div",{staticClass:"main-login"},[a("div",{staticClass:"login"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title",class:{active:t.isLogin},on:{click:function(e){t.isLogin=!0}}},[t._v("用户登录")]),t._v(" "),a("div",{staticClass:"title",class:{active:!t.isLogin},on:{click:function(e){t.isLogin=!1}}},[t._v("注册")])]),t._v(" "),a("div",{staticClass:"form-login"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"username"}},[t._v("账号")]),t._v(" "),a("div",{staticClass:"col-sm-9 input-login"},[a("div",{staticClass:"split"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"Enter username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"password"}},[t._v("密码")]),t._v(" "),a("div",{staticClass:"col-sm-9 input-login"},[a("div",{staticClass:"split"}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),t.isLogin?a("div",{staticClass:"form-group row"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.login}},[t._v("登陆")])]):a("div",{staticClass:"form-group row"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.register}},[t._v("注册")])])])])])])},s=[],i={render:n,staticRenderFns:s};e.a=i},"5MzK":function(t,e,a){"use strict";function n(t){a("G+F5")}var s=a("3T8Y"),i=a("YHva"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-d24b9020",null);e.a=c.exports},"5aGd":function(t,e){},"5jJ+":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},"6RFi":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"kanban"}},[a("header-chai"),t._v(" "),a("main-chai")],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},"7BgB":function(t,e,a){"use strict";e.a={name:"colourTag",props:{bgColor:{required:!0},tagText:{type:String,default:""}}}},"7vB2":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-3 font-small"},[t._l(t.cardData.comments,function(e){return n("div",{key:e.id,staticClass:"comment-list"},[n("div",[n("div",{staticClass:"d-flex justify-content-between"},[n("img",{staticClass:"userpic",attrs:{src:a("C7Ih")}}),t._v(" "),n("span",[t._v(t._s(e.createDate.toLocaleString()))])]),t._v(" "),n("autosize-textarea",{staticClass:"ml-4 p-2 rounded comment-content",attrs:{readonly:"",value:e.message}})],1)])}),t._v(" "),n("div",{staticClass:"comment-form"},[n("form",[n("div",{staticClass:"form-group"},[n("autosize-textarea",{staticClass:"textarea-content form-control",model:{value:t.newComment,callback:function(e){t.newComment=e},expression:"newComment"}})],1),t._v(" "),n("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button",disabled:t.hasComment},on:{click:t.submit}},[t._v("Send")]),t._v(" "),n("button",{staticClass:"btn btn-sm btn-light",attrs:{type:"button",disabled:t.hasComment},on:{click:t.cancel}},[t._v("Cancel")])])])],2)},s=[],i={render:n,staticRenderFns:s};e.a=i},"8B08":function(t,e){},"8Gwg":function(t,e,a){"use strict";function n(t){a("5aGd")}var s=a("FJTq"),i=a("OO7H"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-084abdd0",null);e.a=c.exports},"9E8o":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("form",{staticClass:"card-create-form"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputCategory"}},[t._v("分类")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.category,expression:"category",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{type:"text",id:"inputCategory",placeholder:"Feature"},domProps:{value:t.category},on:{change:function(e){t.category=e.target.value}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputTitle"}},[t._v("标题")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{type:"text",id:"inputTitle",placeholder:"Title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-2 col-form-label",attrs:{for:"inputDescription"}},[t._v("描述")]),t._v(" "),a("div",{staticClass:"col-sm-10"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control",attrs:{id:"inputDescription",rows:"3",placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])])])},s=[],i={render:n,staticRenderFns:s};e.a=i},"9TOr":function(t,e,a){"use strict";function n(t){a("roqH")}var s=a("08bf"),i=a("9E8o"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-4f06c3b2",null);e.a=c.exports},"9XMU":function(t,e,a){"use strict";a("+NLg");e.a={name:"checklistStatus",props:{progress:{type:Number,required:!0}},computed:{progressValue:function(){return 100*this.progress+"%"},progressText:function(){return this.progress<1?Math.round(100*this.progress)+"%":"Done"}}}},AEeq:function(t,e,a){"use strict";var n=a("Dd8w"),s=a.n(n),i=a("NYxO"),r=a("lXxf"),o=a("T+0d"),c=a("3E/i"),u=a("Xt2L"),l=a("Z+2w"),d=a("e+Jk"),m=a("ROGu"),p=a("+VX4");e.a={name:"asideChai",computed:s()({},a.i(i.a)(["getterSections","getterShowDetail"]),{sectionData:function(){var t=this,e=this.getterSections.filter(function(e){return e.key===t.getterShowDetail.sectionKey})[0];return e||(console.warn("no related section founded!"),{})},cardData:function(){var t=this;if(!this.sectionData.cards)return{};var e=this.sectionData.cards.filter(function(e){return e.key===t.getterShowDetail.cardKey})[0];return e||(console.warn("no related card founded!"),{})}}),components:{"aside-card":r.a,"aside-priority":o.a,"aside-timing":c.a,"aside-checklist":u.a,"aside-tags":l.a,"aside-attachments":d.a,"aside-comments":m.a},methods:s()({},a.i(i.b)(["updateCardData","postListInCard","updateListInCard","deleteListInCard"]),a.i(i.c)(["updateShowDetail"]),{closeAside:function(){this.updateShowDetail({type:p.a})},changeCardData:function(t,e,a){var n=this.sectionData.cards.find(function(e){return e.key===t});this.updateCardData({sectionKey:this.sectionData.key,card:n,key:e,value:a})},postItem:function(t,e,a){var n=this.sectionData.cards.find(function(e){return e.key===t});this.postListInCard({sectionKey:this.sectionData.key,card:n,listName:e,item:a})},updateItem:function(t,e,a,n,s){var i=this.sectionData.cards.find(function(e){return e.key===t});this.updateListInCard({sectionKey:this.sectionData.key,card:i,listName:e,id:a,key:n,value:s})},deleteItem:function(t,e,a){var n=this.sectionData.cards.find(function(e){return e.key===t});this.deleteListInCard({sectionKey:this.sectionData.key,card:n,listName:e,id:a})}})}},BLje:function(t,e,a){"use strict";a("3TwR"),a("ZWH+"),a("i71b"),a("iQV5");e.a={name:"asideAttachmentsChai",props:{cardData:{required:!0},updateItem:{type:Function,required:!0}},methods:{updatePin:function(t,e){this.updateItem(this.cardData.key,"attachments",t,"isPin",!e)},formateDate:function(t){if(t)return t instanceof Date||(t=new Date(t)),isNaN(t.getTime())&&(t=new Date),t}}}},C7Ih:function(t,e,a){t.exports=a.p+"static/img/avatar.220ada2.jpg"},CcPy:function(t,e,a){"use strict";var n=a("7t+N"),s=a.n(n);e.a={name:"modal",props:{modalId:{type:String,default:""},modalTitle:{type:String,default:""},callback:{type:Function,default:function(){}}},methods:{save:function(){this.callback()&&s()("#"+this.modalId).modal("hide")}}}},D4uH:function(t,e,a){"use strict";function n(t){a("c0Rt")}var s=a("dXrS"),i=a("O0jz"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},DrTi:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card text-left",attrs:{draggable:"true"},on:{dragstart:t.drag,click:t.showDetailInfo}},[a("div",{staticClass:"card-header card-attachments"},[t.hasPin?a("img",{staticClass:"card-img-top",attrs:{src:t.attachmentUrl,alt:"attachment"}}):t._e()]),t._v(" "),a("div",{staticClass:"card-body"},[t.hasLabels?a("div",{staticClass:"card-labels flex"},[t.hasTag?a("colour-tag",{staticClass:"color-label",attrs:{"bg-color":t.labelColor,"tag-text":t.labelText}}):t._e(),t._v(" "),t.hasPriority?a("div",{staticClass:"card-label-item"},[a("priority",{attrs:{text:t.priorities[t.cardData.priority],level:t.cardData.priority}})],1):t._e(),t._v(" "),t.hasChecklistStatus?a("checklist-status",{attrs:{progress:t.progress}}):t._e()],1):t._e(),t._v(" "),t.startDate||t.dueDate||t.cardData.estimate?a("div",{staticClass:"card-dates flex card-icon"},[t.startDate?a("div",{staticClass:"start-date"},[a("icon",{attrs:{name:"hourglass-start"}}),t._v(" "),a("span",[t._v(t._s(t.startDate))])],1):t._e(),t._v(" "),t.dueDate?a("div",{staticClass:"due-date"},[a("icon",{attrs:{name:"hourglass-end"}}),t._v(" "),a("span",[t._v(t._s(t.dueDate))])],1):t._e(),t._v(" "),t.cardData.estimate?a("div",{staticClass:"estimate"},[a("icon",{attrs:{name:"clock-o"}}),t._v(" "),a("span",[t._v(t._s(t.cardData.estimate+"h"))])],1):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"card-content"},[a("p",{staticClass:"card-text card-title mb-0",domProps:{textContent:t._s(t.cardData.title)}}),t._v(" "),t.cardData.description?a("icon",{staticClass:"card-icon",attrs:{name:"align-left"}}):t._e()],1),t._v(" "),t.cardData.tags&&t.cardData.tags.length?a("div",{staticClass:"card-tags flex card-icon mb-0 mt-2"},t._l(t.cardData.tags,function(e){return a("span",{staticClass:"tag"},[t._v(t._s(e.text))])}),0):t._e(),t._v(" "),t.hasIndicators?a("div",{staticClass:"card-indicators flex card-icon mt-2"},[t.cardData.checklist&&t.cardData.checklist.length?a("div",{staticClass:"item-progress"},[a("icon",{attrs:{name:"check-square-o"}}),t._v(" "),a("span",[t._v(t._s(t.checklistStatus))])],1):t._e(),t._v(" "),t.cardData.comments&&t.cardData.comments.length?a("div",{staticClass:"comments"},[a("icon",{attrs:{name:"comments"}}),t._v(" "),a("span",[t._v(t._s(t.cardData.comments.length))])],1):t._e(),t._v(" "),t.cardData.attachments&&t.cardData.attachments.length?a("div",{staticClass:"attachments"},[a("icon",{attrs:{name:"paperclip"}}),t._v(" "),a("span",[t._v(t._s(t.cardData.attachments.length))])],1):t._e()]):t._e()])])},s=[],i={render:n,staticRenderFns:s};e.a=i},FJTq:function(t,e,a){"use strict";e.a={name:"headerChai"}},"G+F5":function(t,e){},G5gC:function(t,e,a){"use strict";var n=(a("Asdg"),a("+VX4"));e.a={name:"colorPalette",data:function(){return{colors:n.c}},props:["select"]}},GnY2:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:t.modalId,tabindex:"-1",role:"dialog","aria-labelledby":t.modalId+"Label","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:t.modalId+"Label"},domProps:{textContent:t._s(t.modalTitle)}}),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"modal-body"},[t._t("modal-body",[t._v("...")])],2),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.save}},[t._v("Save")])])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],i={render:n,staticRenderFns:s};e.a=i},IRx8:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"colour",class:"bg-"+t.bgColor,domProps:{textContent:t._s(t.tagText)}})},s=[],i={render:n,staticRenderFns:s};e.a=i},IcnI:function(t,e,a){"use strict";var n=a("Xxa5"),s=a.n(n),i=a("exGp"),r=a.n(i),o=a("woOf"),c=a.n(o),u=a("7+uW"),l=a("NYxO"),d=a("+Qew"),m=a("VafW"),p=a("+VX4"),f=a("Phyb");u.a.use(l.e);var h={sections:[],cardForm:{key:"1",category:"Feature",title:"",description:""},asideDetail:{isShow:!1,type:"",sectionKey:"",cardKey:""}},v={initSections:function(t,e){t.sections=e},addSection:function(t,e){e&&t.sections.push(e)},updateCardForm:function(t,e){var a=e.key,n=e.value;t.cardForm[a]=n},addCard:function(t,e){var a=e.sectionKey,n=e.card;t.sections.find(function(t){return t.key===a}).cards.push(n)},updateCardParentSection:function(t,e){var a=e.card,n=e.oldSectionKey,s=e.newSectionKey,i=t.sections.find(function(t){return t.key===s}),r=t.sections.find(function(t){return t.key===n}).cards,o=r.findIndex(function(t){return t.key===a.key});r.splice(o,1),i.cards.push(a)},updateCard:function(t,e){var a=e.card,n=e.sectionKey,s=t.sections.find(function(t){return t.key===n}),i=s.cards,r=i.findIndex(function(t){return t.key===a.key});i.splice(r,1,a)},deleteCard:function(t,e){var a=e.cardKey,n=e.sectionKey,s=t.sections.find(function(t){return t.key===n}),i=s.cards,r=i.findIndex(function(t){return t.key===a});i.splice(r,1)},updateShowDetail:function(t,e){e.type===p.a?c()(t.asideDetail,{isShow:!1,type:"",sectionKey:"",cardKey:""}):e.type===p.e&&(e.type===t.asideDetail.type&&e.sectionKey===t.asideDetail.sectionKey&&e.cardKey===t.asideDetail.cardKey?c()(t.asideDetail,{isShow:!1,type:"",sectionKey:"",cardKey:""}):(t.asideDetail.isShow=!0,t.asideDetail.type=e.type,t.asideDetail.sectionKey=e.sectionKey,t.asideDetail.cardKey=e.cardKey))}},g={getSections:function(t){var e=this,a=t.commit;return r()(s.a.mark(function t(){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.apiGetSections();case 2:n=t.sent,a("initSections",n||[]);case 4:case"end":return t.stop()}},t,e)}))()},postSection:function(t,e){var a=this,n=t.commit;return r()(s.a.mark(function t(){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.apiCreateSection(e);case 2:i=t.sent,n("addSection",i.section);case 4:case"end":return t.stop()}},t,a)}))()},postCard:function(t,e){var a=this,n=t.commit,i=e.sectionKey,o=e.cardTitle;return r()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.apiCreateCard({sectionKey:i,title:o});case 2:e=t.sent,n("addCard",{sectionKey:i,card:e.card});case 4:case"end":return t.stop()}},t,a)}))()},updateCardParentSection:function(t,e){var a=this,n=t.state,i=t.commit,o=e.cardKey,c=e.oldSectionKey,u=e.newSectionKey;return r()(s.a.mark(function t(){var e,r,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.sections.find(function(t){return t.key===c}),r=e.cards.find(function(t){return t.key===o}),t.next=4,m.a.apiUpdateCard({card:r,sectionKey:u,oldSectionKey:c});case 4:l=t.sent,i("updateCardParentSection",{card:l.card,oldSectionKey:c,newSectionKey:u});case 6:case"end":return t.stop()}},t,a)}))()},updateCardData:function(t,e){var a=this,n=t.commit,i=e.card,o=e.sectionKey,c=e.key,u=e.value;return r()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.apiUpdateCard({card:i,sectionKey:o,key:c,value:u});case 2:e=t.sent,n("updateCard",{card:e.card,sectionKey:o});case 4:case"end":return t.stop()}},t,a)}))()},deleteCard:function(t,e){var a=this,n=t.commit,i=e.sectionKey,o=e.cardKey;return r()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.apiDeleteCard({sectionKey:i,cardKey:o});case 2:n("deleteCard",{sectionKey:i,cardKey:o});case 3:case"end":return t.stop()}},t,a)}))()},postListInCard:function(t,e){var a=this,n=t.commit,i=e.sectionKey,o=e.card,c=e.listName,u=e.item;return r()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.apiCreateListItem({sectionKey:i,card:o,listName:c,item:u});case 2:e=t.sent,n("updateCard",{card:e.card,sectionKey:i});case 4:case"end":return t.stop()}},t,a)}))()},updateListInCard:function(t,e){var a=this,n=t.commit,i=e.sectionKey,o=e.card,c=e.listName,u=e.id,l=e.key,d=e.value;return r()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.apiUpdateListItem({sectionKey:i,card:o,listName:c,id:u,key:l,value:d});case 2:e=t.sent,n("updateCard",{card:e.card,sectionKey:i});case 4:case"end":return t.stop()}},t,a)}))()},deleteListInCard:function(t,e){var a=this,n=t.commit,i=e.sectionKey,o=e.card,c=e.listName,u=e.id;return r()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.apiDeleteListItem({sectionKey:i,card:o,listName:c,id:u});case 2:e=t.sent,n("updateCard",{sectionKey:i,card:e.card});case 4:case"end":return t.stop()}},t,a)}))()}},C={getterSections:function(t){return t.sections},getterShowDetail:function(t){return t.asideDetail}};e.a=new l.e.Store({state:h,mutations:v,actions:g,getters:C,modules:{auth:f.a}})},Ifrm:function(t,e){},JBDf:function(t,e,a){"use strict";var n=a("8Gwg"),s=a("S8xU");e.a={name:"kanban",components:{"header-chai":n.a,"main-chai":s.a}}},L3rJ:function(t,e,a){"use strict";a("iQV5");e.a={name:"asideChecklistChai",data:function(){return{hasItems:!1,show:!0,checkName:""}},computed:{itemOfDone:function(){return this.cardData.checklist.filter(function(t){return t.isDone})},completion:function(){var t=this.itemOfDone.reduce(function(t,e){return t+e.weight},0),e=this.cardData.checklist.reduce(function(t,e){return t+e.weight},0);return Math.round(t/e*100)}},props:{cardData:{required:!0},postItem:{type:Function,required:!0},updateItem:{type:Function,required:!0},deleteItem:{type:Function,required:!0}},methods:{addCheck:function(){var t={name:this.checkName,weight:1,isDone:!1};this.checkName="",this.show=!0,this.hasItems=!0,this.postItem(this.cardData.key,"checklist",t)},updateChecklist:function(t,e,a){this.updateItem(this.cardData.key,"checklist",a,t,e)},updateWeight:function(t,e){this.updateChecklist("weight",parseInt(t),e)},updateStatus:function(t,e){this.updateChecklist("isDone",t,e)},deleteChecklistItem:function(t){this.deleteItem(this.cardData.key,"checklist",t)}}}},"LA+S":function(t,e,a){"use strict";var n=a("JnrT"),s=a.n(n);e.a={name:"autosizeTextarea",props:["value","placeholder"],methods:{updateValue:function(t){this.$emit("input",t)}},mounted:function(){this.$nextTick(function(){s()(this.$el)})},updated:function(){this.$nextTick(function(){s.a.update(this.$el)})}}},M10Z:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"status"},[a("span",{staticClass:"status-progress",style:{width:t.progressValue}}),t._v(" "),a("icon",{attrs:{name:"check-circle"}}),t._v(" "),a("div",{staticClass:"status-text"},[a("span",{domProps:{textContent:t._s(t.progressText)}})])],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},M93x:function(t,e,a){"use strict";function n(t){a("fsyz")}var s=a("xJD8"),i=a("5jJ+"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},"N/Di":function(t,e,a){"use strict";function n(t){a("03za")}var s=a("vtA4"),i=a("4W0b"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-7e25e5bd",null);e.a=c.exports},NGZp:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s=a("D4uH"),i=a("M93x"),r=a("YaEn"),o=a("IcnI");a.e(0).then(a.bind(null,"rnrV")).then(function(t){t.init({dsn:"https://0c287e465f4e4287b4b517aba1cf960e@sentry.io/1370779",integrations:[new t.Integrations.Vue({Vue:n.a})]})}),n.a.config.productionTip=!1,n.a.component("icon",s.a),n.a.directive("focus",{inserted:function(t){t.focus()}}),new n.a({store:o.a,el:"#app",router:r.a,template:"<App/>",components:{App:i.a}})},NZon:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("textarea",{attrs:{placeholder:t.placeholder,rows:"1"},domProps:{value:t.value},on:{input:function(e){t.updateValue(e.target.value)}}})},s=[],i={render:n,staticRenderFns:s};e.a=i},NZrp:function(t,e,a){"use strict";var n=a("Dd8w"),s=a.n(n),i=a("NYxO"),r=a("+VX4"),o=(a("a5eB"),a("XH+T"),a("0yBz"),a("O+1C"),a("wdG2"),a("R8qK"),a("FNjd"),a("y2Tx")),c=a("mSsm"),u=a("5MzK");e.a={name:"card",data:function(){return{attachmentUrl:a("q+yp"),priorities:r.b,tagColours:r.d}},props:{cardData:{required:!0},getDetail:{type:Function,default:function(){}}},computed:{hasPin:function(){return this.cardData.attachments&&this.cardData.attachments.length>0&&this.cardData.attachments[0].isPin},hasTag:function(){return this.cardData.colourTagNum>0},hasPriority:function(){return this.cardData.priority>0},hasChecklist:function(){return this.cardData.checklist&&this.cardData.checklist.length},hasChecklistStatus:function(){return this.cardData.isDone||this.hasChecklist},hasLabels:function(){return this.hasTag||this.hasPriority||this.hasChecklistStatus},hasComments:function(){return this.cardData.comments&&this.cardData.comments.length},hasAttachments:function(){return this.cardData.attachment&&this.cardData.attachments.lenght},hasIndicators:function(){return this.hasChecklist||this.hasComments||this.hasAttachments},labelColor:function(){var t=this.cardData.colourTagNum;return t&&t>0?this.tagColours[t]:"gray"},labelText:function(){var t=this.cardData.colourTagNum||0;return this.tagColours[t]},progress:function(){return this.cardData.isDone?1:this.cardData.checklist.filter(function(t){return t.isDone}).reduce(function(t,e){return t+e.weight},0)/this.cardData.checklist.reduce(function(t,e){return t+e.weight},0)},startDate:function(){if(this.cardData.startDate){var t=new Date(this.cardData.startDate).toDateString().split(" ");return t[2]+" "+t[1]}},dueDate:function(){if(this.cardData.dueDate){var t=new Date(this.cardData.dueDate).toDateString().split(" ");return t[2]+" "+t[1]}},checklistStatus:function(){return this.cardData.checklist.filter(function(t){return t.isDone}).length+"/"+this.cardData.checklist.length}},methods:s()({},a.i(i.c)(["updateShowDetail"]),{drag:function(t){this.updateShowDetail({type:r.a}),t.dataTransfer.setData("cardKey",this.cardData.key),t.dataTransfer.setData("sectionKey",this.$parent.sectionData.key)},showDetailInfo:function(){this.updateShowDetail({type:r.e,sectionKey:this.$parent.sectionData.key,cardKey:this.cardData.key})}}),components:{"colour-tag":o.a,"checklist-status":c.a,priority:u.a}}},"O+bb":function(t,e,a){"use strict";var n=a("Dd8w"),s=a.n(n),i=(a("rcsw"),a("NYxO")),r=a("OCEN"),o=a("+rL5");e.a={name:"mainChai",data:function(){return{show:!0,sectionTitle:""}},computed:s()({},a.i(i.a)(["getterSections","getterShowDetail"])),components:{"section-chai":r.a,"aside-chai":o.a},methods:s()({},a.i(i.b)(["getSections","postSection"]),{showAddSectionInput:function(){this.show=!1},addSection:function(){0===this.sectionTitle.trim().length&&(this.show=!0),this.show||(this.sectionTitle.replace(/\s+/g,"")&&(this.postSection({title:this.sectionTitle}),this.sectionTitle=""),this.show=!0)}}),directives:{scroll:{bind:function(t){var e=function(t){t.preventDefault&&t.preventDefault(),this.scrollLeft+=t.deltaY};t.addEventListener("wheel",e,!1)}}},created:function(){this.getSections()}}},O0jz:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{class:t.klass,style:t.style,attrs:{version:"1.1",role:t.label?"img":"presentation","aria-label":t.label,x:t.x,y:t.y,width:t.width,height:t.height,viewBox:t.box}},[t._t("default",[t.icon&&t.icon.paths?t._l(t.icon.paths,function(e,n){return a("path",t._b({key:"path-"+n},"path",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.polygons?t._l(t.icon.polygons,function(e,n){return a("polygon",t._b({key:"polygon-"+n},"polygon",e,!1))}):t._e(),t._v(" "),t.icon&&t.icon.raw?[a("g",{domProps:{innerHTML:t._s(t.raw)}})]:t._e()])],2)},s=[],i={render:n,staticRenderFns:s};e.a=i},OCEN:function(t,e,a){"use strict";function n(t){a("vpJY")}var s=a("SrEU"),i=a("sgvp"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-896d2eec",null);e.a=c.exports},OO7H:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light fixed-top"},[a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo03","aria-controls":"navbarTogglerDemo03","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})]),t._v(" "),a("span",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("Kanban")]),t._v(" "),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarTogglerDemo03"}},[a("ul",{staticClass:"navbar-nav mr-auto mt-2 mt-lg-0"},[a("li",{staticClass:"nav-item active"},[a("a",{staticClass:"nav-link home",attrs:{href:"#"}},[t._v("主页 "),a("span",{staticClass:"sr-only"},[t._v("(current)")])])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link disabled",attrs:{href:"#"}},[t._v("行为")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link statistics disabled",attrs:{href:"#"}},[t._v("统计")])])]),t._v(" "),a("form",{staticClass:"form-inline my-2 my-lg-0"},[a("input",{staticClass:"form-control mr-sm-2",attrs:{type:"text",placeholder:"Search","aria-label":"Search"}}),t._v(" "),a("button",{staticClass:"btn btn-outline-success my-2 my-sm-0",attrs:{type:"submit"}},[t._v("Search")])])])])}],i={render:n,staticRenderFns:s};e.a=i},OUO6:function(t,e,a){"use strict";function n(t){a("fmqG")}var s=a("CcPy"),i=a("GnY2"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},Phyb:function(t,e,a){"use strict";var n,s=a("Xxa5"),i=a.n(s),r=a("exGp"),o=a.n(r),c=a("bOdI"),u=a.n(c),l=a("mvHQ"),d=a.n(l),m=a("lbHh"),p=a.n(m),f=a("+YJT"),h=a("h95T");e.a={namespaced:!0,state:{account:{},isLogin:!1},getters:{userIsLogin:function(t){return t.isLogin}},mutations:(n={},u()(n,f.a,function(t,e){t.account=e,t.isLogin=!0,p.a.set("token",e.token,{expires:7}),p.a.set("username",e.username,{expires:7}),p.a.set("userId",e.userId,{expires:7}),sessionStorage.setItem("account",d()(e))}),u()(n,f.b,function(t){t.account={},t.isLogin=!1}),n),actions:{register:function(t,e){t.commit;return h.a.apiRegister(e)},login:function(t,e){var a=this,n=t.commit;return o()(i.a.mark(function t(){var s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.apiLogin(e);case 2:return s=t.sent,n(f.a,s),t.abrupt("return",s);case 5:case"end":return t.stop()}},t,a)}))()},logout:function(t){var e=this,a=t.commit;return o()(i.a.mark(function t(){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.apiLogout();case 2:return n=t.sent,a(f.b),t.abrupt("return",n);case 5:case"end":return t.stop()}},t,e)}))()},getUserInfo:function(t,e){var a=this,n=t.commit;return o()(i.a.mark(function t(){var s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.apiGetUserInfo(e);case 2:return s=t.sent,n(f.a,s),t.abrupt("return",s);case 5:case"end":return t.stop()}},t,a)}))()}}}},QNvh:function(t,e,a){"use strict";var n=(a("XhSR"),a("+VX4")),s=a("5MzK");e.a={name:"asidePriorityChai",data:function(){return{priorities:n.b}},components:{priority:s.a},props:{cardData:{required:!0},updateData:{type:Function,required:!0}},methods:{selectPriority:function(t){this.updateData(this.cardData.key,"priority",t)}}}},ROGu:function(t,e,a){"use strict";function n(t){a("ekFT")}var s=a("4PZh"),i=a("7vB2"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-f517ab6a",null);e.a=c.exports},S8xU:function(t,e,a){"use strict";function n(t){a("UhGW")}var s=a("O+bb"),i=a("3cqT"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-29146e58",null);e.a=c.exports},SWcl:function(t,e){},SrEU:function(t,e,a){"use strict";var n=a("Dd8w"),s=a.n(n),i=(a("rcsw"),a("NYxO")),r=a("2G+U"),o=a("OUO6"),c=a("9TOr");e.a={name:"sectionChai",data:function(){return{show:!0,cardContent:""}},computed:{modalId:function(){return"section"+this.sectionData.title.replace(/\s+/g,"")},number:function(){return this.sectionData.cards?this.sectionData.cards.length:0}},components:{"card-chai":r.a,"modal-chai":o.a,"card-create-chai":c.a},props:{sectionData:{required:!0}},methods:s()({allowDrop:function(t){t.preventDefault()},drop:function(t){t.preventDefault();var e=Number(t.dataTransfer.getData("cardKey")),a=Number(t.dataTransfer.getData("sectionKey"));a!==this.sectionData.key&&this.updateCardParentSection({cardKey:e,oldSectionKey:a,newSectionKey:this.sectionData.key})}},a.i(i.b)(["postCard","updateCardParentSection"]),{addNewCard:function(){return this.postCard({sectionKey:this.sectionData.key}),!0},addCard:function(){0!==this.cardContent.trim().length&&(this.postCard({sectionKey:this.sectionData.key,cardTitle:this.cardContent}),this.show=!0,this.cardContent="")},showAddCardInput:function(){this.show=!1}})}},"T+0d":function(t,e,a){"use strict";function n(t){a("qgK/")}var s=a("QNvh"),i=a("stbu"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-13018f31",null);e.a=c.exports},TWlb:function(t,e){},TcMV:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header-line d-flex m-3"},[n("div",{staticClass:"dropdown"},[n("colour-tag",{staticClass:"color-label dropdown-toggle",attrs:{"data-toggle":"dropdown","bg-color":t.labelColor,"tag-text":t.labelText}}),t._v(" "),n("div",{staticClass:"mt-2 dropdown-menu font-small"},t._l(t.tagColours,function(e,a){return n("div",{key:e,staticClass:"dropdown-item c-pointer",on:{click:function(e){t.selectColourTag(a)}}},[a>0?n("colour-tag",{attrs:{"bg-color":e}}):t._e(),t._v(" "),n("span",{class:{"colour-content":a>0},domProps:{textContent:t._s(e)}})],1)}),0)],1),t._v(" "),n("div",{staticClass:"d-flex ml-auto"},[t.hasChecklistStatus?n("checklist-status",{staticClass:"checklist",attrs:{progress:t.progress}}):t._e(),t._v(" "),t.hasChecklistStatus?t._e():n("div",{staticClass:"align-middle font-small d-flex mr-2"},[n("input",{staticClass:"my-auto",attrs:{type:"checkbox"},on:{change:t.updateStatus}}),t._v(" "),n("span",{staticClass:"my-auto"},[t._v("Mark as Done")])]),t._v(" "),n("div",{staticClass:"delete-icon mr-0 c-pointer",on:{click:t.deleteThisCard}},[n("icon",{attrs:{name:"trash-o"}})],1)],1)]),t._v(" "),n("div",{staticClass:"create-position d-flex m-3"},[n("div",{staticClass:"create-info"},[n("img",{attrs:{src:a("C7Ih")}}),t._v(" "),n("span",{domProps:{textContent:t._s(t.createTime)}})]),t._v(" "),n("div",{staticClass:"position-info pl-3"},[n("div",{staticClass:"position-title"},[t._v("Card in list")]),t._v(" "),n("div",{staticClass:"position-detail",domProps:{textContent:t._s(t.sectionTitle)}})])]),t._v(" "),n("div",{staticClass:"card-detail",class:[t.detailEdit,t.detailBgColor]},[n("div",{staticClass:"card-title-content"},[n("div",{staticClass:"textarea-content pr-5",attrs:{contenteditable:"true"},domProps:{textContent:t._s(t.cardData.title)},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.updateTitle(e):null},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()}}}),t._v(" "),n("div",{staticClass:"color-palette"},[n("color-palette",{attrs:{select:t.selectBg}})],1)]),t._v(" "),n("hr",{staticClass:"my-0 mx-3"}),t._v(" "),n("div",{staticClass:"card-description",on:{click:t.editDescr}},[n("autosize-textarea",{staticClass:"textarea-content",attrs:{placeholder:"Edit card description"},model:{value:t.descr,callback:function(e){t.descr=e},expression:"descr"}})],1),t._v(" "),t.isEditDescr?n("div",{staticClass:"p-3 confirm-buttons"},[n("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.saveDescr}},[t._v("save changes")]),t._v(" "),n("button",{staticClass:"btn btn-light btn-sm btn-outline-secondary",attrs:{type:"buttom"},on:{click:t.cancelEdit}},[t._v("Cancel")])]):t._e()])])},s=[],i={render:n,staticRenderFns:s};e.a=i},UhGW:function(t,e){},VafW:function(t,e,a){"use strict";var n=a("//Fk"),s=a.n(n),i=a("1W6s");e.a={apiCreateCard:function(t){return new s.a(function(e,n){a.i(i.a)(function(a){if(t.sectionKey){var s=a.transaction(["section"],"readwrite"),i=s.objectStore("section"),r=i.get(t.sectionKey);s.onerror=function(t){console.log("新建card失败"),n({message:"新建card失败"})},r.onsuccess=function(a){var n=a.target.result,s={key:Date.now(),title:t.title||"new card",createDate:new Date,description:null,pipNum:null,colourTagNum:null,bgColorNum:null,priority:0,assignee:null,startDate:null,dueDate:null,estimate:null,spendTime:null,isDone:!1,checklist:[],tags:[],attachments:[],comments:[],activity:[{type:"created new card",time:new Date,content:null}]};n.cards.push(s),i.put(n).onsuccess=function(t){console.log("新建card成功"),e({card:s})}}}},n)})},apiUpdateCard:function(t){return new s.a(function(e,n){a.i(i.a)(function(a){if(t.sectionKey&&t.card){t.key&&void 0!==t.value&&(t.card[t.key]=t.value);var s=a.transaction(["section"],"readwrite"),i=s.objectStore("section");i.get(t.sectionKey).onsuccess=function(e){var a=e.target.result;if(t.oldSectionKey)a.cards.push(t.card),i.get(t.oldSectionKey).onsuccess=function(e){var a=e.target.result,n=a.cards.findIndex(function(e){return e.key===t.card.key});a.cards.splice(n,1),i.put(a)};else{var n=a.cards.findIndex(function(e){return e.key===t.card.key});a.cards.splice(n,1,t.card)}i.put(a)},s.onerror=function(t){console.log("改变card属性失败"),n({message:"改变card属性失败"})},s.oncomplete=function(a){console.log("改变card属性成功"),e({card:t.card})}}},n)})},apiDeleteCard:function(t){return new s.a(function(e,n){a.i(i.a)(function(a){if(t.sectionKey&&t.cardKey){var s=a.transaction(["section"],"readwrite"),i=s.objectStore("section");i.get(t.sectionKey).onsuccess=function(e){var a=e.target.result,n=a.cards.findIndex(function(e){return e.key===t.cardKey});a.cards.splice(n,1),i.put(a)},s.onerror=function(t){console.log("删除card失败",t),n({message:"删除card失败"})},s.oncomplete=function(t){console.log("删除card成功"),e()}}},n)})},apiCreateListItem:function(t){return new s.a(function(e,n){a.i(i.a)(function(a){if(t.sectionKey&&t.card&&t.listName&&t.item){var s=t.item;s.id=Date.now()+Math.random(),t.card[t.listName]=[s];var i=a.transaction(["section"],"readwrite"),r=i.objectStore("section");r.get(t.sectionKey).onsuccess=function(e){var a=e.target.result,n=a.cards.findIndex(function(e){return e.key===t.card.key});a.cards.splice(n,1,t.card),r.put(a)},i.onerror=function(t){console.log("增加card中某个list失败",t),n({message:"增加card中某个list失败"})},i.oncomplete=function(a){console.log("增加card中某个list成功"),e({card:t.card})}}},n)})},apiUpdateListItem:function(t){return new s.a(function(e,n){a.i(i.a)(function(a){if(t.sectionKey&&t.card){if(t.listName&&t.id&&t.key&&void 0!==t.value){t.card[t.listName].find(function(e){return e.id===t.id})[t.key]=t.value}var s=a.transaction(["section"],"readwrite"),i=s.objectStore("section");i.get(t.sectionKey).onsuccess=function(e){var a=e.target.result,n=a.cards.findIndex(function(e){return e.key===t.card.key});a.cards.splice(n,1,t.card),i.put(a)},s.onerror=function(t){console.log("更新card中某个list失败",t),n({message:"更新card中某个list失败"})},s.oncomplete=function(a){console.log("更新card中某个list成功"),e({card:t.card})}}},n)})},apiDeleteListItem:function(t){return new s.a(function(e,n){a.i(i.a)(function(a){if(t.sectionKey&&t.card){if(t.listName&&t.id){var s=t.card[t.listName].findIndex(function(e){return e.id===t.id});t.card[t.listName].splice(s,1)}var i=a.transaction(["section"],"readwrite"),r=i.objectStore("section");r.get(t.sectionKey).onsuccess=function(e){var a=e.target.result,n=a.cards.findIndex(function(e){return e.key===t.card.key});a.cards.splice(n,1,t.card),r.put(a)},i.onerror=function(t){console.log("删除card中某个list的某个item失败",t),n({message:"删除card中某个list的某个item失败"})},i.oncomplete=function(a){console.log("删除card中某个list的某个item成功"),e({card:t.card})}}},n)})}}},Xt2L:function(t,e,a){"use strict";function n(t){a("YcAc")}var s=a("L3rJ"),i=a("gCjd"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-0cba37f7",null);e.a=c.exports},YHva:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"priority",class:t.priorityColor},[a("icon",{attrs:{name:"thermometer-"+t.level}}),t._v(" "),a("span",{staticClass:"priority-text",domProps:{textContent:t._s(t.text)}})],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},YaEn:function(t,e,a){"use strict";var n=a("7+uW"),s=a("/ocq"),i=a("lbHh"),r=a.n(i),o=a("aR7Y"),c=a("N/Di"),u=a("IcnI"),l=a("+YJT");n.a.use(s.a);var d=new s.a({routes:[{path:"/login",name:"login",component:c.a},{path:"/",name:"kanban",meta:{requireLogin:!0},component:o.a}]});d.beforeEach(function(t,e,a){if(t.matched.length)if(t.matched.some(function(t){return t.meta.requireLogin})){var n=r.a.get("token");if(n){if(a(),!u.a.getters["auth/userIsLogin"]){var s=sessionStorage.getItem("account");if(s)u.a.commit("auth/"+l.a,JSON.parse(s));else{var i=r.a.get("username");u.a.dispatch("auth/getUserInfo",{username:i,token:n})}}}else a("/login")}else a();else a("/")}),e.a=d},YcAc:function(t,e){},"Z+2w":function(t,e,a){"use strict";function n(t){a("nX8F")}var s=a("sjMS"),i=a("ukoq"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-73e256fc",null);e.a=c.exports},ZU2T:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-3 font-small"},[t._m(0),t._v(" "),t._l(t.cardData.attachments,function(e){return n("div",{key:e.id,staticClass:"attach-list pl-2 mb-3"},[n("div",{staticClass:"attachment d-flex justify-content-between"},[n("div",[n("icon",{staticClass:"align-middle",attrs:{name:"picture-o"}}),t._v(" "),n("span",[t._v(t._s(e.name))]),t._v(" "),e.isPin?n("icon",{staticClass:"align-middle",attrs:{name:"thumb-tack"}}):t._e()],1),t._v(" "),n("div",{staticClass:"attach-action"},[n("div",{staticClass:"mr-1",on:{click:function(a){t.updatePin(e.id,e.isPin)}}},[n("icon",{staticClass:"align-middle",attrs:{name:"thumb-tack"}}),t._v(" "),n("span",[t._v(t._s(e.isPin?"Unpin":"Pin"))])],1),t._v(" "),n("div",{staticClass:"mr-1"},[n("icon",{staticClass:"align-middle",attrs:{name:"download"}}),t._v(" "),n("span",[t._v("Download")])],1),t._v(" "),n("div",[n("icon",{staticClass:"align-middle",attrs:{name:"trash-o",onclick:"alert(1)"}})],1)]),t._v(" "),n("div",{staticClass:"attach-info"},[n("span",[t._v(t._s(t.formateDate(e.uploadDate).toLocaleDateString()))]),t._v(" "),n("img",{staticClass:"userpic",attrs:{src:a("C7Ih")}})])])])}),t._v(" "),t._m(1)],2)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"mb-3"},[a("strong",[t._v("Attachments")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"custom-file attach-file"},[a("input",{staticClass:"custom-file-input",attrs:{type:"file",id:"attachFile"}}),t._v(" "),a("label",{staticClass:"btn btn-sm btn-light border border-secondary",attrs:{for:"attachFile"}},[t._v("Attach a file")])])}],i={render:n,staticRenderFns:s};e.a=i},aR7Y:function(t,e,a){"use strict";function n(t){a("TWlb")}var s=a("JBDf"),i=a("6RFi"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,null,null);e.a=c.exports},c0Rt:function(t,e){},dXrS:function(t,e,a){"use strict";function n(){return"fa-"+(o++).toString(16)}var s=a("bOdI"),i=a.n(s),r={};e.a={name:"fa-icon",props:{name:{type:String,validator:function(t){return!t||t in r||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+t+'".\nPlease make sure you have imported this icon before using it.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(t){return"horizontal"===t||"vertical"===t}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var t=this.scale;return t=void 0===t?1:Number(t),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):t*this.outerScale},klass:function(){return i()({"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse},this.$options.name,!0)},icon:function(){return this.name?r[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var t=this.icon,e=t.width,a=t.height;return Math.max(e,a)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var t=this.icon.raw,e={};return t=t.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(t,a,s){var i=n();return e[s]=i,' id="'+i+'"'}),t=t.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(t,a,n,s){var i=a||s;return i&&e[i]?"#"+e[i]:t}),t}},mounted:function(){var t=this;if(!this.name&&0===this.$children.length)return void console.warn('Invalid prop: prop "name" is required.');if(!this.icon){var e=0,a=0;this.$children.forEach(function(n){n.outerScale=t.normalizedScale,e=Math.max(e,n.width),a=Math.max(a,n.height)}),this.childrenWidth=e,this.childrenHeight=a,this.$children.forEach(function(t){t.x=(e-t.width)/2,t.y=(a-t.height)/2})}},register:function(t){for(var e in t){var a=t[e];a.paths||(a.paths=[]),a.d&&a.paths.push({d:a.d}),a.polygons||(a.polygons=[]),a.points&&a.polygons.push({points:a.points}),r[e]=a}},icons:r};var o=870711},"e+Jk":function(t,e,a){"use strict";function n(t){a("v71N")}var s=a("BLje"),i=a("ZU2T"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-7c887f4c",null);e.a=c.exports},eahu:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dropdown"},[a("button",{staticClass:"btn btn-sm btn-link dropdown-toggle paint-brush",attrs:{"data-toggle":"dropdown"}},[a("icon",{attrs:{name:"paint-brush"}})],1),t._v(" "),a("div",{staticClass:"mt-0 dropdown-menu dropdown-menu-right"},[a("div",{staticClass:"ml-2 d-flex options"},t._l(t.colors,function(e,n){return a("div",{key:e,staticClass:"mr-2 mb-2 bg-option",class:"bg-"+e,on:{click:function(e){t.select(n)}}})}),0)])])},s=[],i={render:n,staticRenderFns:s};e.a=i},ekFT:function(t,e){},fmqG:function(t,e){},fsyz:function(t,e){},gCjd:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"checklist m-3 font-small"},[t.cardData.checklist.length?t._e():a("header",{staticClass:"mb-3"},[a("strong",[t._v("Checklist")])]),t._v(" "),t.cardData.checklist.length?a("div",{staticClass:"mb-3"},[a("div",{staticClass:"d-flex justify-content-between checklist-status"},[a("strong",[a("span",{domProps:{textContent:t._s(t.completion)}}),t._v("% done")]),t._v(" "),a("div",[a("span",{domProps:{textContent:t._s(t.itemOfDone.length)}}),t._v(" of "),a("span",{domProps:{textContent:t._s(t.cardData.checklist.length)}})])]),t._v(" "),t._l(t.cardData.checklist,function(e,n){return a("div",{key:e.id,staticClass:"input-group m-1"},[a("div",{staticClass:"mr-auto"},[a("input",{staticClass:"align-middle",attrs:{type:"checkbox"},domProps:{checked:e.isDone},on:{change:function(a){t.updateStatus(a.target.checked,e.id)}}}),t._v(" "),a("span",{staticClass:"align-middle",domProps:{textContent:t._s(e.name)}})]),t._v(" "),a("div",[a("span",{staticClass:"align-middle"},[t._v("Weight")]),t._v(" "),a("span",{staticClass:"align-middle rounded-circle text-white bg-secondary weight-value",domProps:{textContent:t._s(e.weight)}}),t._v(" "),a("input",{staticClass:"align-middle",attrs:{type:"range",min:"1",max:"10",step:"1"},domProps:{value:e.weight},on:{input:function(a){t.updateWeight(a.target.value,e.id)}}}),t._v(" "),a("div",{staticClass:"d-inline-block",on:{click:function(a){t.deleteChecklistItem(e.id)}}},[a("icon",{staticClass:"align-middle c-pointer",attrs:{name:"trash-o"}})],1)])])})],2):t._e(),t._v(" "),t.show?a("button",{staticClass:"btn btn-sm btn-light border border-secondary",on:{click:function(e){t.show=!1}}},[t._v("Add an item")]):t._e(),t._v(" "),t.show?t._e():a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.checkName,expression:"checkName"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.checkName},on:{blur:function(e){t.show=!0},keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addCheck(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.show=!0}],input:function(e){e.target.composing||(t.checkName=e.target.value)}}})])},s=[],i={render:n,staticRenderFns:s};e.a=i},h95T:function(t,e,a){"use strict";var n=a("//Fk"),s=a.n(n),i=a("1W6s");e.a={apiRegister:function(t){return new s.a(function(e,n){a.i(i.a)(function(a){var s=a.transaction(["person"],"readwrite").objectStore("person").add({username:t.username,password:t.password});s.onsuccess=function(a){console.log("注册用户成功"),e({username:t.username,password:t.password})},s.onerror=function(t){console.log("注册用户失败",t),n({message:"注册用户失败"})}},n,t.username)})},apiLogin:function(t){return new s.a(function(e,n){a.i(i.a)(function(a){var s=a.transaction(["person"]),i=s.objectStore("person"),r=i.index("username").get(t.username);r.onerror=function(t){console.log("获取用户信息失败",t),n({message:"获取用户信息失败"})},r.onsuccess=function(a){console.log("获取用户信息成功");var s=a.target.result;s&&s.username===t.username&&s.password===t.password?e({username:t.username,token:"sampwood.helloworld",userId:s.id}):n({message:"用户名或密码错误"})}},n,t.username)})},apiLogout:function(){return s.a.resolve()},apiGetUserInfo:function(t){return new s.a(function(e,n){a.i(i.a)(function(a){var s=a.transaction(["person"]),i=s.objectStore("person"),r=i.index("username").get(t.username);r.onerror=function(t){console.log("获取用户信息失败",t),n({message:"获取用户信息失败"})},r.onsuccess=function(t){console.log("获取用户信息成功"),e(t.target.result)}},n,t.username)})}}},kFbY:function(t,e){},km0r:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aside-container"},[t._m(0),t._v(" "),a("div",{staticClass:"tab-content text-left"},[a("div",{staticClass:"tab-pane active mt-3",attrs:{id:"details",role:"tabpanel"}},[a("aside-card",{attrs:{"card-data":t.cardData,"section-title":t.sectionData.title,"update-data":t.changeCardData}}),t._v(" "),a("hr"),t._v(" "),a("aside-priority",{attrs:{"card-data":t.cardData,"update-data":t.changeCardData}}),t._v(" "),a("hr"),t._v(" "),a("aside-timing",{attrs:{"card-data":t.cardData,"update-data":t.changeCardData}}),t._v(" "),a("hr"),t._v(" "),a("aside-checklist",{attrs:{"card-data":t.cardData,"post-item":t.postItem,"update-item":t.updateItem,"delete-item":t.deleteItem}}),t._v(" "),a("hr"),t._v(" "),a("aside-tags",{attrs:{"card-data":t.cardData,"post-item":t.postItem,"delete-item":t.deleteItem}}),t._v(" "),a("hr"),t._v(" "),a("aside-attachments",{attrs:{"card-data":t.cardData,"update-item":t.updateItem}}),t._v(" "),a("hr"),t._v(" "),a("aside-comments",{attrs:{"card-data":t.cardData,"post-item":t.postItem}})],1),t._v(" "),a("div",{staticClass:"tab-pane",attrs:{id:"activity",role:"tabpanel"}},[t._v("activity")])]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){t.closeAside()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-tabs pt-3 pl-3 pr-5",attrs:{role:"tablist"}},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link active",attrs:{"data-toggle":"tab",href:"#details",role:"tab"}},[t._v("Card Details")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{"data-toggle":"tab",href:"#activity",role:"tab"}},[t._v("Activity")])])])}],i={render:n,staticRenderFns:s};e.a=i},lXxf:function(t,e,a){"use strict";function n(t){a("kFbY")}var s=a("t+4I"),i=a("TcMV"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-a9ea25d0",null);e.a=c.exports},mSsm:function(t,e,a){"use strict";function n(t){a("8B08")}var s=a("9XMU"),i=a("M10Z"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-4a8f9520",null);e.a=c.exports},nX8F:function(t,e){},"q+yp":function(t,e,a){t.exports=a.p+"static/img/zoro.69aa536.jpg"},"q2D/":function(t,e,a){"use strict";e.a={name:"asideTimingChai",data:function(){return{show:!0,spendTime:0}},props:{cardData:{required:!0},updateData:{type:Function,required:!0}},computed:{startDate:function(){return this.formateDate(this.cardData.startDate)},dueDate:function(){return this.formateDate(this.cardData.dueDate)}},methods:{formateDate:function(t){if(t){t instanceof Date||(t=new Date(t)),isNaN(t.getTime())&&(t=new Date);var e=t.getMonth()+1;e=e>9?e:"0"+e;var a=t.getDate();a=a>9?a:"0"+a;var n=t.getHours();n=n>9?n:"0"+n;var s=t.getMinutes();return s=s>9?s:"0"+s,t.getFullYear()+"-"+e+"-"+a+"T"+n+":"+s}},updateStartDate:function(t){this.updateData(this.cardData.key,"startDate",t?new Date(t):null)},updateDueDate:function(t){this.updateData(this.cardData.key,"dueDate",t?new Date(t):null)},updateEstimate:function(t){this.updateData(this.cardData.key,"estimate",t)},logTime:function(){this.updateData(this.cardData.key,"spendTime",this.cardData.spendTime+parseFloat(this.spendTime)),this.show=!0},showLogTime:function(){this.show=!1}}}},"qgK/":function(t,e){},roqH:function(t,e){},sSmN:function(t,e){},sgvp:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-columns",on:{dragover:t.allowDrop,drop:t.drop}},[a("header",{staticClass:"list-header"},[a("span",{staticClass:"list-title",domProps:{textContent:t._s(t.sectionData.title)}}),t._v(" "),a("span",{domProps:{textContent:t._s(t.number)}})]),t._v(" "),a("div",{staticClass:"card-list"},t._l(t.sectionData.cards,function(t){return a("card-chai",{key:t.key,attrs:{"card-data":t}})}),1),t._v(" "),t.show?a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.showAddCardInput}},[a("icon",{attrs:{name:"plus"}})],1):t._e(),t._v(" "),t.show?t._e():a("input",{directives:[{name:"focus",rawName:"v-focus"},{name:"model",rawName:"v-model",value:t.cardContent,expression:"cardContent"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Add new card"},domProps:{value:t.cardContent},on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addCard(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.show=!0}],blur:function(e){t.show=!0},input:function(e){e.target.composing||(t.cardContent=e.target.value)}}})])},s=[],i={render:n,staticRenderFns:s};e.a=i},sjMS:function(t,e,a){"use strict";var n=a("lHA8"),s=a.n(n),i=a("Gu7T"),r=a.n(i);a("h+cp");e.a={name:"asideTagsChai",data:function(){return{tagsHistory:[],tagName:""}},props:["cardData","postItem","deleteItem"],methods:{addTag:function(t){var e=this.tagName.trim();e&&(this.cardData.tags.map(function(t){return t.text}).indexOf(e)<0&&(this.postItem(this.cardData.key,"tags",{text:e}),this.tagsHistory.push(e),this.tagsHistory=[].concat(r()(new s.a(this.tagsHistory)))),t.target.parentNode.click(),this.tagName="")},selectTag:function(t){this.cardData.tags.map(function(t){return t.text}).indexOf(t)<0&&this.postItem(this.cardData.key,"tags",{text:t})},deleteTag:function(t){this.deleteItem(this.cardData.key,"tags",t.id)}}}},stbu:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"priority-selection d-flex m-3"},[a("div",{staticClass:"dropdown"},[a("priority",{staticClass:"btn btn-light dropdown-toggle py-1 c-pointer",attrs:{text:t.priorities[t.cardData.priority],level:t.cardData.priority,"data-toggle":"dropdown"}}),t._v(" "),a("div",{staticClass:"dropdown-menu"},t._l(t.priorities,function(e,n){return a("div",{key:n,staticClass:"dropdown-item c-pointer priority-item",on:{click:function(e){t.selectPriority(n)}}},[a("priority",{staticClass:"priority-item-content",attrs:{text:e,level:n}})],1)}),0)],1)])},s=[],i={render:n,staticRenderFns:s};e.a=i},"t+4I":function(t,e,a){"use strict";var n=a("Dd8w"),s=a.n(n),i=a("NYxO"),r=(a("+NLg"),a("iQV5"),a("y2Tx")),o=a("v+V1"),c=a("0mKs"),u=a("mSsm"),l=a("+VX4");e.a={name:"asideCardChai",components:{"colour-tag":r.a,"color-palette":o.a,"autosize-textarea":c.a,"checklist-status":u.a},data:function(){return{allColours:l.c,tagColours:l.d,isEditDescr:!1,descr:this.cardData.description}},props:{cardData:{required:!0},sectionTitle:{type:String,required:!0},updateData:{type:Function,required:!0}},computed:{labelColor:function(){var t=this.cardData.colourTagNum;return t&&t>0?this.tagColours[t]:"gray"},labelText:function(){var t=this.cardData.colourTagNum||0;return this.tagColours[t]},createTime:function(){return this.cardData.activity[0].time.toLocaleString()},detailEdit:function(){return this.isEditDescr?"card-descr-edit":""},detailBgColor:function(){return this.cardData.bgColorNum>-1?"bg-"+this.allColours[this.cardData.bgColorNum]:""},hasChecklistStatus:function(){return this.cardData.isDone||this.cardData.checklist&&this.cardData.checklist.length},progress:function(){return this.cardData.isDone?1:this.cardData.checklist.filter(function(t){return t.isDone}).reduce(function(t,e){return t+e.weight},0)/this.cardData.checklist.reduce(function(t,e){return t+e.weight},0)}},methods:s()({},a.i(i.b)(["deleteCard"]),a.i(i.c)(["updateShowDetail"]),{selectColourTag:function(t){this.updateData(this.cardData.key,"colourTagNum",t)},updateTitle:function(t){var e=t.target.innerText;this.updateData(this.cardData.key,"title",e)},editDescr:function(){this.isEditDescr=!0},saveDescr:function(){this.updateData(this.cardData.key,"description",this.descr),this.isEditDescr=!1},cancelEdit:function(){this.isEditDescr=!1,this.descr=this.cardData.description},selectBg:function(t){this.updateData(this.cardData.key,"bgColorNum",t)},deleteThisCard:function(){this.deleteCard({sectionKey:this.$parent.sectionData.key,cardKey:this.cardData.key}),this.updateShowDetail({type:l.a})},updateStatus:function(){this.updateData(this.cardData.key,"isDone",!0)}})}},ukoq:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-3 font-small"},[t._m(0),t._v(" "),a("div",{staticClass:"d-flex tags"},[a("div",{staticClass:"dropdown font-small"},[a("a",{staticClass:"btn btn-sm btn-light border border-secondary p-1 dropdown-toggle tag",attrs:{href:"#","data-toggle":"dropdown"}},[a("icon",{attrs:{name:"plus-circle"}}),t._v(" "),a("span",[t._v("Add a tag")])],1),t._v(" "),a("div",{staticClass:"dropdown-menu font-small"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.tagName,expression:"tagName"}],staticClass:"dropdown-item tag-input",attrs:{type:"text",placeholder:"Start typing a name"},domProps:{value:t.tagName},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addTag(e):null},input:function(e){e.target.composing||(t.tagName=e.target.value)}}}),t._v(" "),a("hr",{staticClass:"m-0"}),t._v(" "),t._l(t.tagsHistory,function(e){return a("div",{staticClass:"dropdown-item c-pointer",on:{click:function(a){t.selectTag(e)}}},[t._v(t._s(e))])})],2)]),t._v(" "),t._l(t.cardData.tags,function(e){return a("div",{staticClass:"btn btn-sm border border-primary text-primary tag tag-content"},[t._v("\n      "+t._s(e.text)+"\n      "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(a){t.deleteTag(e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})],2)])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"mb-3"},[a("strong",[t._v("Tags")])])}],i={render:n,staticRenderFns:s};e.a=i},"v+V1":function(t,e,a){"use strict";function n(t){a("NGZp")}var s=a("G5gC"),i=a("eahu"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-60221a2c",null);e.a=c.exports},v71N:function(t,e){},vpJY:function(t,e){},vtA4:function(t,e,a){"use strict";var n=a("Xxa5"),s=a.n(n),i=a("exGp"),r=a.n(i),o=a("Dd8w"),c=a.n(o),u=a("NYxO"),l=a("L6bb"),d=a.n(l);e.a={name:"login",data:function(){return{username:"",password:"",isLogin:!0}},methods:c()({},a.i(u.b)({loginAction:"auth/login",registerAction:"auth/register"}),{login:function(){var t=this;return r()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loginAction({username:t.username,password:d()(t.password)});case 2:t.$router.push("/");case 3:case"end":return e.stop()}},e,t)}))()},register:function(){var t=this;return r()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.registerAction({username:t.username,password:d()(t.password)});case 2:t.isLogin=!0;case 3:case"end":return e.stop()}},e,t)}))()}})}},"wG+O":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"m-3"},[a("form",{staticClass:"timing"},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4 col-form-label col-form-label-sm",attrs:{for:"startDate"}},[t._v("Start date")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("input",{staticClass:"form-control form-control-sm",attrs:{type:"datetime-local"},domProps:{value:t.startDate},on:{input:function(e){t.updateStartDate(e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4 col-form-label col-form-label-sm",attrs:{for:"dueDate"}},[t._v("Due date")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("input",{staticClass:"form-control form-control-sm",attrs:{type:"datetime-local"},domProps:{value:t.dueDate},on:{input:function(e){t.updateDueDate(e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4 col-form-label col-form-label-sm",attrs:{for:"estimate"}},[t._v("Estimate(h)")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[a("input",{staticClass:"form-control form-control-sm",attrs:{type:"number"},domProps:{value:t.cardData.estimate},on:{input:function(e){t.updateEstimate(e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-sm-4 col-form-label col-form-label-sm",attrs:{for:"spentTime"}},[t._v("Spent time(h)")]),t._v(" "),a("div",{staticClass:"col-sm-8"},[t.show?a("div",{staticClass:"d-flex spend-time"},[a("input",{staticClass:"form-control-plaintext form-control-sm",attrs:{type:"number",readonly:""},domProps:{value:t.cardData.spendTime}}),t._v(" "),a("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:t.showLogTime}},[t._v("Log Time")])]):t._e(),t._v(" "),t.show?t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:t.spendTime,expression:"spendTime"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control form-control-sm",attrs:{type:"number"},domProps:{value:t.spendTime},on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.logTime(e):null},function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;t.show=!0}],blur:function(e){t.show=!0},input:function(e){e.target.composing||(t.spendTime=e.target.value)}}})])])])])},s=[],i={render:n,staticRenderFns:s};e.a=i},xJD8:function(t,e,a){"use strict";var n=a("K3J8");a.n(n);e.a={name:"app"}},y2Tx:function(t,e,a){"use strict";function n(t){a("0ClO")}var s=a("7BgB"),i=a("IRx8"),r=a("VU/8"),o=n,c=r(s.a,i.a,!1,o,"data-v-28f0f7b5",null);e.a=c.exports}},["NHnr"]);
//# sourceMappingURL=app.78aa506bea427e897021.js.map